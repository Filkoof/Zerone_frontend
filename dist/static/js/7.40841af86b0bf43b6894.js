webpackJsonp([7],{"5lLj":function(t,e){},Eu1L:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Dd8w"),o=i.n(s),a=i("UBpT"),n=i("tJ7h"),l=i("7PTA"),r=i("0Hd5"),c=i("NYxO"),f={name:"Profile",components:{FriendsPossible:a.a,ProfileInfo:n.a,NewsAdd:l.a,NewsBlock:r.a},data:function(){return{activeTab:"published"}},computed:o()({},Object(c.c)("profile/info",["getInfo"]),Object(c.c)("users/info",["getWall"]),{activeWall:function(){return this.getWall[this.activeTab]}}),methods:o()({},Object(c.b)("users/info",["apiWall"]),{changeTab:function(t){this.activeTab=t,"queue"===t&&0===this.getWall.queue.length&&this.apiWall({id:this.getInfo.id,queue:!0})}})},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"profile inner-page"},[i("div",{staticClass:"inner-page__main"},[i("div",{staticClass:"profile__info"},[i("profile-info",{attrs:{me:"me",online:"online",info:t.getInfo}})],1),i("div",{staticClass:"profile__news"},[i("div",{staticClass:"profile__tabs"},[i("span",{staticClass:"profile__tab",class:{active:"published"===t.activeTab},on:{click:function(e){return t.changeTab("published")}}},[t._v("Мои публикации (7)")]),i("span",{staticClass:"profile__tab",class:{active:"queue"===t.activeTab},on:{click:function(e){return t.changeTab("queue")}}},[t._v("Отложенные публикации (5)")])]),i("div",{staticClass:"profile__add"},[i("news-add")],1),i("div",{staticClass:"profile__news-list"},t._l(t.activeWall,function(e){return i("news-block",{key:e.id,attrs:{edit:"edit",deffered:"queue"===t.activeTab,info:e}})}),1)])]),i("div",{staticClass:"inner-page__aside"},[i("friends-possible")],1)])},staticRenderFns:[]},_=i("VU/8")(f,d,!1,null,null,null);e.default=_.exports},tJ7h:function(t,e,i){"use strict";var s=i("Dd8w"),o=i.n(s),a=i("NYxO"),n={name:"ProfileInfo",components:{Modal:i("/o5o").a},props:{me:Boolean,online:Boolean,blocked:Boolean,friend:Boolean,info:Object},data:function(){return{modalShow:!1,modalText:"",modalType:"deleteFriend"}},computed:{statusText:function(){return this.online?"онлайн":"не в сети"},blockedText:function(){return this.blocked?"Пользователь заблокирован":"Заблокировать"},btnVariantInfo:function(){return this.blocked?{variant:"red",text:"Разблокировать"}:this.friend?{variant:"red",text:"Удалить из друзей"}:{variant:"white",text:"Добавить в друзья"}}},methods:o()({},Object(a.b)("users/actions",["apiBlockUser","apiUnblockUser"]),{blockedUser:function(){this.blocked||(this.modalText="Вы уверены, что хотите заблокировать пользователя "+this.info.fullName,this.modalShow=!0,this.modalType="block")},profileAction:function(){if(this.friend)return this.modalText="Вы уверены, что хотите удалить пользователя "+this.info.fullName+" из друзей?",this.modalShow=!0,void(this.modalType="deleteFriend");this.blocked?this.apiUnblockUser(this.$route.params.id):console.log("add user")},closeModal:function(){this.modalShow=!1},onConfirm:function(){"block"!==this.modalType?console.log("delete user"):this.apiBlockUser(this.$route.params.id)}})},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.info?i("div",{staticClass:"profile-info"},[i("div",{staticClass:"profile-info__pic"},[i("div",{staticClass:"profile-info__img",class:{offline:!t.online&&!t.me}},[i("img",{attrs:{src:t.info.photo,alt:t.info.fullName}})]),t.me?t._e():i("div",{staticClass:"profile-info__actions"},[i("button-hover",{attrs:{disable:t.blocked}},[t._v("Написать сообщение")]),i("button-hover",{staticClass:"profile-info__add",attrs:{variant:t.btnVariantInfo.variant,bordered:"bordered"},nativeOn:{click:function(e){return t.profileAction(e)}}},[t._v(t._s(t.btnVariantInfo.text))])],1)]),i("div",{staticClass:"profile-info__main"},[t.me?i("router-link",{staticClass:"edit",attrs:{to:{name:"Settings"}}},[i("simple-svg",{attrs:{filepath:"/static/img/edit.svg"}})],1):i("span",{staticClass:"profile-info__blocked",class:{blocked:t.blocked},on:{click:t.blockedUser}},[t._v(t._s(t.blockedText))]),i("div",{staticClass:"profile-info__header"},[i("h1",{staticClass:"profile-info__name"},[t._v(t._s(t.info.fullName))]),i("span",{staticClass:"user-status",class:{online:t.online,offline:!t.online}},[t._v(t._s(t.statusText))])]),i("div",{staticClass:"profile-info__block"},[i("span",{staticClass:"profile-info__title"},[t._v("Дата рождения:")]),i("span",{staticClass:"profile-info__val"},[t._v(t._s(t._f("moment")(t.info.birth_date,"D MMMM YYYY"))+" ("+t._s(t.info.ages)+" года)")])]),i("div",{staticClass:"profile-info__block"},[i("span",{staticClass:"profile-info__title"},[t._v("Телефон:")]),i("a",{staticClass:"profile-info__val",attrs:{href:"tel:"+t.info.phone}},[t._v(t._s(t._f("phone")(t.info.phone)))])]),i("div",{staticClass:"profile-info__block"},[i("span",{staticClass:"profile-info__title"},[t._v("Страна, город:")]),i("span",{staticClass:"profile-info__val"},[t._v("Россия, "+t._s(t.info.town))])]),i("div",{staticClass:"profile-info__block"},[i("span",{staticClass:"profile-info__title"},[t._v("О себе:")]),i("span",{staticClass:"profile-info__val"},[t._v(t._s(t.info.about))])])],1),i("modal",{model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[t.modalText?i("p",[t._v(t._s(t.modalText))]):t._e(),i("template",{slot:"actions"},[i("button-hover",{nativeOn:{click:function(e){return e.preventDefault(),t.onConfirm(e)}}},[t._v("Да")]),i("button-hover",{attrs:{variant:"red",bordered:"bordered"},nativeOn:{click:function(e){return t.closeModal(e)}}},[t._v("Отмена")])],1)],2)],1):t._e()},staticRenderFns:[]};var r=i("VU/8")(n,l,!1,function(t){i("5lLj")},null,null);e.a=r.exports}});
//# sourceMappingURL=7.40841af86b0bf43b6894.js.map